task_id: 4x4_sudoku_snake
title: 4x4数独（スネーク・フレンドリーセル条件付き）パズルの解答
description: 'Standard 4x4 Sudoku rules: 各行・各列・各ボックス（2x2）に1〜4が重複なく入ること。盤面のr1c1には2が事前に配置されている。その他は未定義。フレンドリーセル：そのマスの数字が、その行番号・列番号・ボックス番号のいずれかと一致している場合。スネーク：フレンドリーでないセルが全て一次元的につながった1セル幅のスネークを形成し、分岐・直交接触はしない。スネークはr1c1から始まり、すべてのボックスを少なくとも1回通過する。スネークはフレンドリーでないセルのみで構成され、それ以外には入らず、また他のセルはすべてフレンドリー。この条件を満たす解を1つ求める。'
constraints:
- 盤面は4x4である。
- 各行・各列・各2x2ボックスに1-4が1回ずつ入る（通常の数独ルール）。
- 盤面r1c1（1行1列）は2で確定。他は未定義。
- セル(i,j)がフレンドリーなのは、そこに入る数字が「そのセルの行番号、列番号、またはボックス番号」のいずれかと一致している場合。
- フレンドリーでないセルはすべてスネーク状（一次元に連続した経路、分岐や直交接触なし）につながり、r1c1（2）から開始、すべてのボックスを訪れる。
- スネークはフレンドリーでないセルのみで構成され、それ以外のセルはすべてフレンドリー。
- スネークは（1セル幅で）分岐や直交接触しない。
resources:
- 現在の初期盤面（r1c1＝2、それ以外空欄）
- 4x4セル座標とボックス番号情報
- スネーク・フレンドリー判定ロジック
created_at: '2025-04-17T17:45:06.708143'
updated_at: '2025-04-17T17:45:06.708143'
